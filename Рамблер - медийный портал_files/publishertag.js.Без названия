var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a){this.name=a}return a.prototype.eval=function(a){},a}();a.AbstractEvent=b}(b=a.Event||(a.Event={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b,c,d,e){this.id=this.generateRandomId(),this.impressionId=a,this.cpm=b,this.width=c,this.height=d,this.zoneId=e}return a.prototype.generateRandomId=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,6)},a}();a.BidResponseSlot=b}(b=a.StandaloneDirectBidding||(a.StandaloneDirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b){this.width=a,this.height=b}return a.prototype.toString=function(){return this.width+"x"+this.height},a}();a.Size=b;var c=function(){function a(a,b,c,d,e){this.impId=a,this.zoneId=b,this.nativeCallback=c,this.transactionId=d,this.sizes=e}return a}();a.DirectBiddingSlot=c}(b=a.DirectBidding||(a.DirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){"use strict";function b(a){d.LOGLEVEL=a}var c;!function(a){a[a.Error=0]="Error",a[a.Warning=1]="Warning",a[a.Debug=2]="Debug"}(c=a.LogLevel||(a.LogLevel={}));var d=function(){function a(){}return a.Debug=function(b){console&&a.LOGLEVEL>=c.Debug&&console.log("PubTag [DEBUG]:"+b)},a.Warning=function(b){console&&a.LOGLEVEL>=c.Warning&&console.log("PubTag [WARNING]:"+b)},a.Error=function(b){a.LOGLEVEL>=c.Error&&(console?console.log("PubTag [ERROR]:"+b):alert("PubTag [ERROR]:"+b))},a}();d.LOGLEVEL=c.Error,a.Log=d,a.SetLogLevel=b}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){"use strict";var b;!function(a){a[a.Unspecified=0]="Unspecified",a[a.AMP=1]="AMP"}(b=a.IntegrationMode||(a.IntegrationMode={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){"use strict";var c=function(){function c(){var a=this;this.integrationMode=b.IntegrationMode.Unspecified,this.paramParser={},this.paramParser.integrationmode=function(b){a.integrationMode=a.parseIntegrationMode(b)}}return c.prototype.tryFillParameters=function(b){for(var c in b)if(void 0!==b[c]){var d=c.toLowerCase();this.paramParser[d]?this.paramParser[d](b[c]):a.Log.Warning("Unknown parameter: "+c)}},c.prototype.parseIntegrationMode=function(a){switch(a.toLowerCase()){case"amp":return b.IntegrationMode.AMP;default:return b.IntegrationMode.Unspecified}},c}();b.InputParameters=c}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(c){"use strict";var d=function(a){function c(b){var c=a.call(this)||this;return c.placements=void 0,c.networkId=void 0,c.paramParser.networkid=function(a){c.networkId=a},c.paramParser.placements=function(a){c.placements=c.deserializePlacementInput(a)},a.prototype.tryFillParameters.call(c,b),c}return __extends(c,a),c.prototype.deserializePlacementInput=function(a){for(var c=[],d=0,f=a;d<f.length;d++){var g=f[d],h=new e(g);c.push(new b.DirectBidding.DirectBiddingSlot(h.slotId,h.zoneId,h.nativeCallback,void 0,h.sizes))}return c},c}(a.PubTag.InputParameters);c.StandaloneInputParameters=d;var e=function(a){function c(c){var d=a.call(this)||this;return d.slotId=void 0,d.zoneId=void 0,d.nativeCallback=void 0,d.paramParser.slotid=function(a){d.slotId=a},d.paramParser.zoneid=function(a){d.zoneId=a},d.paramParser.sizes=function(a){for(var c=0,e=a;c<e.length;c++){var f=e[c],g=f.split("x");d.sizes.push(new b.DirectBidding.Size(parseInt(g[0],10),parseInt(g[1],10)))}},d.paramParser.nativecallback=function(a){d.nativeCallback=a},a.prototype.tryFillParameters.call(d,c),d}return __extends(c,a),c}(a.PubTag.InputParameters)}(c=b.StandaloneDirectBidding||(b.StandaloneDirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(c){var d=a.call(this,b.NAME)||this;return d._function=c,d}return __extends(b,a),b.prototype.eval=function(a){this._function&&this._function.apply(this)},b}(a.AbstractEvent);b.NAME="genericEvent",a.Custom=b}(b=a.Event||(a.Event={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(b){function c(a,c,d,e,f,g){var h=b.call(this,a,c,d,e,f)||this;return h.displayUrl=g,h}return __extends(c,b),c.prototype.GenerateEvent=function(b){var c=this;if(b.defaultView&&b.defaultView.frameElement){var d=b.defaultView.frameElement;d.width=this.width,d.height=this.height}return new a.Event.Custom(function(){return b.write("<script type='text/javascript' src='"+c.displayUrl+"'></script>")})},c.prototype.GenerateMessage=function(){return{displayUrl:this.displayUrl}},c}(b.BidResponseSlot);b.DisplayUrlBidResponseSlot=c}(b=a.StandaloneDirectBidding||(a.StandaloneDirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(c){"use strict";var d=function(c){function d(a,b,d,e,f,g,h){var i=c.call(this,a,b,d,e,f)||this;return i.nativeCallback=g,i.nativePayload=h,i}return __extends(d,c),d.prototype.GenerateEvent=function(c){var d=this;return"function"!=typeof this.nativeCallback?(a.Log.Error("'nativeCallback' parameter is not a function in placements object"),new b.Event.Custom(void 0)):"object"!=typeof this.nativePayload?(a.Log.Error("'nativePayload' parameter is not an object in placements object"),new b.Event.Custom(void 0)):new b.Event.Custom(function(){return d.nativeCallback(d.nativePayload)})},d.prototype.GenerateMessage=function(){return{nativePayload:this.nativePayload}},d}(c.BidResponseSlot);c.NativeBidResponseSlot=d}(c=b.StandaloneDirectBidding||(b.StandaloneDirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(c){"use strict";var d=function(){function c(a,b,c){this.lowerBound=a,this.upperBound=b,this.increment=c}return c.createLineItemRangesFromString=function(b){for(var d=[],e=b.split(";"),f=0,g=e;f<g.length;f++){var h=g[f],i=h.split(".."),j=c.roundToDecimal(i[0],2),k=i[1].split(":"),l=c.roundToDecimal(k[0],2),m=c.roundToDecimal(k[1],2);if(isNaN(j)||isNaN(l)||isNaN(m)||0===m){a.Log.Warning("Could not parse range parameter: "+h);break}if(j<0||l<0||m<0){a.Log.Warning("Positive values must be set for range bounds: "+h);break}var n=l-j,o=n/m,p=o===Math.floor(o);j>l?a.Log.Warning("Lower bound ("+j+") greater than upper bound ("+l+")"):p?d.push(new c(j,l,m)):a.Log.Warning("Range ("+n+") is not divisible by increment ("+m+")")}return d.sort(function(a,b){return a.upperBound>b.upperBound?1:b.upperBound>a.upperBound?-1:0}),d},c.getDefaultDenseLineItemRanges=function(){var a=new c(0,3,.01),b=new c(3,8,.05),d=new c(8,20,.5);return[a,b,d]},c.computeLineItemPricebandValue=function(a,d){0===d.length&&(d=b.StandaloneDirectBidding.LineItemRange.getDefaultDenseLineItemRanges());for(var e=0,f=d;e<f.length;e++){var g=f[e];if(a<=g.upperBound&&a>g.lowerBound){var h=Math.floor(a/g.increment+1e-4)*g.increment;return c.formatPriceBand(h)}}return a<=d[0].lowerBound?c.formatPriceBand(d[0].lowerBound):c.formatPriceBand(d[d.length-1].upperBound)},c.formatPriceBand=function(a){return a.toFixed(2)},c.roundToDecimal=function(a,b){var c=parseFloat(a),d=Math.pow(10,b);return Math.round(c*d)/d},c}();c.LineItemRange=d}(c=b.StandaloneDirectBidding||(b.StandaloneDirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b,c){this._url=a,this._data=b,this._contentType=c}return a.prototype.send=function(a,b,c,d){var e=void 0!==this._data?"POST":"GET",f=this.getXMLHttpRequest(e,a,b,c,d);if(void 0!==f)f.send(this._data);else{var g=this.getXDomainRequest(e,a,b,c,d);void 0!==g&&g.send(this._data)}},a.prototype.getXMLHttpRequest=function(b,c,d,e,f){var g=new XMLHttpRequest;if("withCredentials"in g)return g.open(b,this._url,!0),g.timeout=f?f:a.LOCAL_PASSBACK_TIMEOUT,this._contentType?g.setRequestHeader("Content-type",this._contentType):"POST"===b&&g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),g.withCredentials=!0,g.onload=function(){4===g.readyState&&200===g.status?c(g.responseText):d(g.readyState,g.status)},g.ontimeout=e,g},a.prototype.getXDomainRequest=function(b,c,d,e,f){if("undefined"!=typeof XDomainRequest){var g=new XDomainRequest;return g.timeout=f?f:a.LOCAL_PASSBACK_TIMEOUT,g.open(b,this._url),g.onload=function(){void 0!==g.responseText?c(g.responseText):d(void 0,void 0)},g.ontimeout&&(g.ontimeout=e),g}},a}();b.LOCAL_PASSBACK_TIMEOUT=3e4,a.AsyncRequest=b}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(c,d,e){var f=a.call(this,b.NAME)||this;return f._condition=c,f._eventIfTrue=d,f._eventIfFalse=e,f}return __extends(b,a),b.prototype.eval=function(a){this._condition.apply(this)?this._eventIfTrue.eval(a):this._eventIfFalse.eval(a)},b}(a.AbstractEvent);b.NAME="conditionalEvent",a.ConditionalEvent=b}(b=a.Event||(a.Event={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a.getHighestAccessibleWindow=function(a){var b=a,c=!1;try{for(;b.parent.document!==b.document;){if(!b.parent.document){c=!0;break}b=b.parent}}catch(a){c=!0}return{topFrame:b,err:c}},a.inIframe=function(){try{return window.self!==window.top}catch(a){return!0}},a}();a.DomManipulationTools=b}(b=a.Display||(a.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){"use strict";var b=function(){function b(a){this.topWin=a,this.topDoc=a.document}return b.prototype.writeCriteoCookiesOnPublisherDomain=function(){var a=this;if(this.topWin.addEventListener)if("complete"===this.topDoc.readyState)this.appendGumIframeIfDoesNotExist();else{var b=function(){a.topDoc.removeEventListener("DOMContentLoaded",b),a.topWin.removeEventListener("load",b),a.appendGumIframeIfDoesNotExist()};this.topDoc.addEventListener("DOMContentLoaded",b,!1),this.topWin.addEventListener("load",b,!1)}},b.prototype.appendGumIframeIfDoesNotExist=function(){var c=this,d=this.createGumIframe(),e=function(e){var f=e.data;if(f.isCriteoMessage)if(f.optout)a.CookieHelper.DeleteCookie(b.GUID_COOKIE_NAME,c.topDoc,!0);else if(f.uid&&""!==f.uid)a.CookieHelper.SetCookie(b.GUID_COOKIE_NAME,f.uid,b.RETENTION_TIME_HOUR,c.topDoc,!0);else{var g=a.CookieHelper.GetCookie(b.GUID_COOKIE_NAME,c.topDoc);d.contentWindow.postMessage({uid:g},"*")}};this.topDoc.getElementById(b.SYNCFRAME_ID)||(this.topWin.addEventListener("message",e,!1),this.topDoc.body.appendChild(d))},b.prototype.createGumIframe=function(){var a=this.topDoc.createElement("iframe");return a.src="//gum.criteo.com/syncframe",a.id=b.SYNCFRAME_ID,a.style.display="none",a},b}();b.GUID_COOKIE_NAME="cto_idcpy",b.SYNCFRAME_ID="criteo-syncframe",b.RETENTION_TIME_HOUR=9360,a.CookieSynchronizer=b}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a.SetCookie=function(b,c,d,e,f){void 0===f&&(f=!1);var g=e||document,h=new Date;h.setTime(h.getTime()+60*d*60*1e3);var i="expires="+h.toUTCString();if(!f)return void a.setCookieString(b,c,i,void 0,g);for(var j=g.location.hostname.split("."),k=0;k<j.length;++k){var l=j.slice(j.length-k-1,j.length).join(".");a.setCookieString(b,c,i,l,g);var m=a.GetCookie(b,e);if(m&&m===c)break}},a.DeleteCookie=function(b,c,d){void 0===d&&(d=!1),a.SetCookie(b,"",0,c,d)},a.GetCookie=function(a,b){for(var c=b||document,d=c.cookie.split(";"),e=0,f=d;e<f.length;e++){var g=f[e],h=g.substr(0,g.indexOf("=")).replace(/^\s+|\s+$/g,""),i=g.substr(g.indexOf("=")+1);if(h===a)return decodeURIComponent(i)}},a.setCookieString=function(a,b,c,d,e){var f=a+"="+encodeURIComponent(b)+";"+c+";";d&&""!==d&&(f+="domain=."+d+";"),e.cookie=f+"path=/"},a}();a.CookieHelper=b}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){"use strict";var c=function(){function c(c,d){this.charset=c.charset?c.charset:c.characterSet?c.characterSet:"";var e=b.Display.DomManipulationTools.getHighestAccessibleWindow(d),f=e.topFrame.document;this.ctoIdOnPublisherDomain=b.CookieHelper.GetCookie(b.CookieSynchronizer.GUID_COOKIE_NAME,f),this.saveCriteoCookiesOnPublisherDomainIfNecessary(e),this.displayContext=this.getDisplayContext(e),this.highestAccessibleUrl=this.getHighestAccessibleUrl(e);var g=this.getQueryStringParams(this.highestAccessibleUrl);this.debugMode="1"===g.pbt_debug||!1,this.noLog="1"===g.pbt_nolog||!1,this.debugMode&&a.SetLogLevel(a.LogLevel.Debug),this.location=d.location,this.protocol=d.location.protocol,this.dising=!1,this.ct0=void 0,this.wpdt0=void 0,this.isAdBlocked=void 0,this.rtaVarNames=[]}return c.prototype.getContextFlags=function(){var a="";return a+=this.debugMode?"&debug=1":"",a+=this.noLog?"&nolog=1":""},c.prototype.getHighestAccessibleUrl=function(a){var b=a.topFrame,c=a.err,d="";if(c)try{if(d=b.top.location.href,!d){var e=b.location.ancestorOrigins;d=e[e.length-1]}}catch(a){d=b.document.referrer}else d=b.location.href;return d},c.prototype.getDisplayContext=function(a){return b.Display.DomManipulationTools.inIframe()?a.err?b.DisplayContext.InUnfriendlyIframe:b.DisplayContext.InFriendlyIframe:b.DisplayContext.DirectIntegration},c.prototype.getQueryStringParams=function(a){var b={},c=a.split("?");if(c.length>1)for(var d=c[1].split("&"),e=0,f=d;e<f.length;e++){var g=f[e],h=g.split("=");b[decodeURIComponent(h[0])]=decodeURIComponent(h[1])}return b},c.prototype.saveCriteoCookiesOnPublisherDomainIfNecessary=function(a){var c=a.topFrame,d=new b.CookieSynchronizer(c);d.writeCriteoCookiesOnPublisherDomain()},c}();b.Context=c}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b;!function(a){a[a.AFR=0]="AFR",a[a.AJS=1]="AJS"}(b=a.HandlerType||(a.HandlerType={}))}(b=a.Display||(a.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b;!function(a){a[a.Classic=0]="Classic",a[a.StickyFooter=1]="StickyFooter",a[a.ScrollingBanner=2]="ScrollingBanner"}(b=a.AdFormatType||(a.AdFormatType={}))}(b=a.Display||(a.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(a){function c(c){var d=a.call(this)||this;return d.zoneid=void 0,d.async=void 0,d.containerid=void 0,d.width=void 0,d.height=void 0,d.callbackSuccess=void 0,d.callbackError=void 0,d.callIfNotAdblocked=void 0,d.passbackCode=void 0,d.publisherUrl=void 0,d.overridenWpdt0=void 0,d.overridenCt0=void 0,d.layout=void 0,d.atfRatio=void 0,d.adFormat=b.AdFormatType.Classic,d.overrideZoneFloor=!0,d.collapseContainerIfNotAdblocked=!0,d.extraData={},d.paramParser.zoneid=function(a){d.zoneid=a},d.paramParser.async=function(a){d.async=a===!0},d.paramParser.containerid=function(a){d.containerid=a},d.paramParser.width=function(a){d.width=a},d.paramParser.height=function(a){d.height=a},d.paramParser.callbacksuccess=function(a){d.callbackSuccess=a},d.paramParser.callbackerror=function(a){d.callbackError=a},d.paramParser.callifnotadblocked=function(a){d.callIfNotAdblocked=a},d.paramParser.passbackcode=function(a){d.passbackCode=a},d.paramParser.layout=function(a){d.layout=a},d.paramParser.publishercreativeconfiguration=d.paramParser.layout,d.paramParser.extradata=function(a){d.extraData=a},d.paramParser.publisherurl=function(a){d.publisherUrl=a},d.paramParser.wpdt0=function(a){d.overridenWpdt0=a},d.paramParser.ct0=function(a){d.overridenCt0=a},d.paramParser.overridezonefloor=function(a){d.overrideZoneFloor=a},d.paramParser.collapsecontainerifnotadblocked=function(a){d.collapseContainerIfNotAdblocked=a},d.paramParser.adformat=function(a){d.adFormat=d.parseAdFormat(a)},a.prototype.tryFillParameters.call(d,c),d}return __extends(c,a),c.prototype.parseAdFormat=function(a){switch(a.toLowerCase()){case"stickyfooter":return b.AdFormatType.StickyFooter;case"scrollingbanner":return b.AdFormatType.ScrollingBanner;default:return b.AdFormatType.Classic}},c}(a.PubTag.InputParameters);b.DisplayInputParameters=c}(c=b.Display||(b.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){"use strict";var b;!function(a){a[a.InFriendlyIframe=1]="InFriendlyIframe",a[a.InUnfriendlyIframe=2]="InUnfriendlyIframe",a[a.DirectIntegration=3]="DirectIntegration"}(b=a.DisplayContext||(a.DisplayContext={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(c){"use strict";var d=function(){function d(){}return d.prototype.buildUrl=function(e,f,g,h,i){var j;j=g===c.HandlerType.AFR?d.CAS_URL_AFR:d.CAS_URL_AJS;var k="https:"===f.protocol?"https:":"http:",l=k+j+"?ptv="+a.PublisherTag.VERSION;if(f.isAdBlocked===!0){var m=this.getAbpParameter(e,f);l+="&abp="+String(m)}g!==c.HandlerType.AFR&&(l+=void 0!==e.containerid&&""!==e.containerid?"&containerid="+encodeURIComponent(e.containerid):""),l+="&zoneid="+String(e.zoneid),l+=h?"&width="+h:"",l+=i?"&height="+i:"",l+=f.ctoIdOnPublisherDomain?"&idcpy="+f.ctoIdOnPublisherDomain:"",l+="&cb="+String(c.CacheBusterGenerator.generateCacheBuster()),l+="&nodis="+(f.dising?"0":"1"),l+=f.charset?"&charset="+f.charset:"",l+=e.overridenCt0?"&ct0="+encodeURIComponent(e.overridenCt0):f.ct0?"&ct0="+encodeURIComponent(f.ct0):"",l+=e.overridenWpdt0?"&wpdt0="+encodeURIComponent(e.overridenWpdt0):f.wpdt0?"&wpdt0="+encodeURIComponent(f.wpdt0):"",l+=e.publisherUrl?"&publisherurl="+encodeURIComponent(e.publisherUrl):"",l+=f.getContextFlags();for(var n in e.extraData)void 0!==e.extraData[n]&&(l+="&"+n+"="+encodeURIComponent(e.extraData[n]));l+=e.passbackCode?"&dlp=1":"",e.integrationMode!==b.IntegrationMode.Unspecified&&(l+="&im="+e.integrationMode),l+="&dc="+f.displayContext;var o=Math.round(100*e.atfRatio)/100;return l+=void 0!==e.atfRatio?"&atfr="+o:"",l+=f.highestAccessibleUrl?"&loc="+encodeURIComponent(f.highestAccessibleUrl).substring(0,1600):""},d.prototype.getAbpParameter=function(a,b){var c=b.isAdBlocked?1:0,d=a.overrideZoneFloor?0:2;return c|d},d}();d.CAS_URL_AJS="//cas.criteo.com/delivery/ajs.php",d.CAS_URL_AFR="//cas.criteo.com/delivery/afr.php",c.DisplayUrlBuilder=d}(c=b.Display||(b.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(){function c(){}return c.prototype.GetAtfRatio=function(b,d){var e=document.getElementById(d);if(b.displayContext===a.DisplayContext.DirectIntegration){if(null!==e)return c.getRatioAboveFold(e);document.write("<div id='compute_visibility_helper' width='0px' height='0px'></div>");var f=document.getElementById("compute_visibility_helper"),g=c.getRatioAboveFold(f);return f.parentElement.removeChild(f),g}if(b.displayContext===a.DisplayContext.InFriendlyIframe)return c.getRatioAboveFold(frameElement)},c.getRatioAboveFold=function(a){var c=b.DomManipulationTools.getHighestAccessibleWindow(window).topFrame,d=c.document,e=c.innerHeight||d.documentElement.clientHeight||d.body.clientHeight,f=a.getBoundingClientRect(),g=d.documentElement.scrollTop||d.body.scrollTop;return e>=f.bottom+g?1:e<=f.top+g?0:(e-f.top-g)/a.offsetHeight},c}();b.ViewabilityComputer=c}(b=a.Display||(a.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(a){function b(b,c,d){var e=a.call(this,b)||this;return e._displayParameters=d,e._urlBuilder=c,e}return __extends(b,a),b.prototype.eval=function(a){this._displayParameters.atfRatio=a.viewabilityComputer.GetAtfRatio(a.context,this._displayParameters.containerid)},b.prototype.buildCasUrl=function(a,b,c,d){return this._urlBuilder.buildUrl(this._displayParameters,a,b,c,d)},b}(a.PubTag.Event.AbstractEvent);b.DisplayEvent=c}(c=b.Display||(b.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this._allowedPixelLoaded=!1,this._blockedPixelFailed=!1}return a.prototype.isAdBlocked=function(b,c){var d=this,e="https:"===b?"https:":"http:",f=e+a.allowedPixelUrl,g=e+a.blockedPixelUrl;this.createPixel(f,function(){d._allowedPixelLoaded=!0,d._blockedPixelFailed===!0&&c(!0)},function(){}),this.createPixel(g,function(){c(!1)},function(){d._blockedPixelFailed=!0,d._allowedPixelLoaded===!0&&c(!0)})},a.prototype.createPixel=function(a,b,c){var d=document.getElementsByTagName("script")[0],e=document.createElement("img");e.src=a,e.height=1,e.width=1,e.style.display="none",e.onload=b,e.onerror=c,"HTMLImageElement"==typeof e&&d.parentNode.insertBefore(e,d)},a}();b.allowedPixelUrl="//static.criteo.net/images/pixel.gif?ch=1",b.blockedPixelUrl="//static.criteo.net/images/pixel.gif?ch=2",a.AdBlocker=b}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){this.bids={},this.lineItemRanges=[]}return a}();a.StandaloneDirectBidder=b}(b=a.StandaloneDirectBidding||(a.StandaloneDirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){"use strict";var b=function(){function b(){this.standaloneBidder=new a.PubTag.StandaloneDirectBidding.StandaloneDirectBidder,this._canProcessConditionalEvents=void 0,this._events=[],this.context=new a.PubTag.Context(document,window),this.viewabilityComputer=new a.PubTag.Display.ViewabilityComputer,this._adblocker=new a.PubTag.AdBlocker,a.Log.Debug("Publisher Tag loaded")}return b.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0;c<a.length;++c){var d=a[c];this._events.push(d)}this.evalEvents()},b.prototype.checkAdblocker=function(){if(void 0===this._canProcessConditionalEvents){var a=this;this._canProcessConditionalEvents=!1,this._adblocker.isAdBlocked(this.context.protocol,function(b){a.context.isAdBlocked=b,a._canProcessConditionalEvents=!0,a.evalEvents()})}},b.prototype.evalEvents=function(){for(var a=0;a<this._events.length;)if("conditionalEvent"===this._events[a].name&&this._canProcessConditionalEvents===!1)a++;else{var b=this._events.splice(a,1);b[0].eval(this)}},b}();b.VERSION=21,a.PublisherTag=b}(Criteo||(Criteo={}));var Criteo;!function(a){"use strict";var b=function(){function a(){window.performance&&window.performance.now?this.now=window.performance.now.bind(window.performance):Date.now?this.now=Date.now:this.now=function(){return(new Date).getTime()}}return a.CreateRunning=function(){var b=new a;return b.start(),b},a.prototype.start=function(){this._start=this.now()},a.prototype.elapsed=function(){var a=this.now();return a-this._start},a}();a.TimeMeasurer=b}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(c){"use strict";var d=function(){function c(a){void 0===a&&(a=!1),this.auditMode=a}return c.prototype.buildUrl=function(d,e,f){void 0===f&&(f=b.IntegrationMode.Unspecified);var g="https:"===e.protocol?"https:":"http:",h=g+c.CRITEO_BIDDER_URL+this.getHandlerPath()+"?ptv="+a.PublisherTag.VERSION;return h+="&profileId="+String(d),h+=e.ctoIdOnPublisherDomain?"&idcpy="+e.ctoIdOnPublisherDomain:"",f!==b.IntegrationMode.Unspecified&&(h+="&im="+f),h+="&cb="+String(a.PubTag.Display.CacheBusterGenerator.generateCacheBuster()),h+=e.getContextFlags()},c.prototype.getHandlerPath=function(){return this.auditMode?c.CRITEO_BIDDER_AUDIT_HANDLER:c.CRITEO_BIDDER_HANDLER},c}();d.CRITEO_BIDDER_URL="//bidder.criteo.com/",d.CRITEO_BIDDER_HANDLER="cdb",d.CRITEO_BIDDER_AUDIT_HANDLER="prebid/audit",c.DirectBiddingUrlBuilder=d}(c=b.DirectBidding||(b.DirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b,c){this.impressionId=a,this.elapsed=b,this.isTimeout=c}return a}();a.DirectBiddingMetric=b}(b=a.DirectBidding||(a.DirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a.checkLocalStorage=function(){var b=a.CHECK_STORAGE_KEY;try{return localStorage.setItem(b,b),localStorage.removeItem(b),!0}catch(a){return!1}},a.removeItem=function(b){localStorage.removeItem(b),localStorage.removeItem(b+a.EXPIRE_SUFFIX)},a.getItem=function(b){var c=(new Date).getTime(),d=localStorage.getItem(b+a.EXPIRE_SUFFIX),e=d?parseInt(d,10):-1;return e!==-1&&e<c?(this.removeItem(b),null):localStorage.getItem(b)},a.setItem=function(b,c,d){if(void 0===d&&(d=null),localStorage.setItem(b,c),d){var e=(new Date).getTime(),f=e+d;localStorage.setItem(b+a.EXPIRE_SUFFIX,f.toString())}},a}();b.EXPIRE_SUFFIX="_expires",b.CHECK_STORAGE_KEY="criteo_localstorage_check",a.LocalStorageHelper=b}(b=a.DirectBidding||(a.DirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function b(){this.localStorageEnabled=a.LocalStorageHelper.checkLocalStorage()}return b.prototype.getMetrics=function(c){if(this.localStorageEnabled){var d=b.METRICS_STORAGE_KEY,e=a.LocalStorageHelper.getItem(d),f=e?JSON.parse(e):[];return c&&a.LocalStorageHelper.removeItem(d),f}return[]},b.prototype.storeMetric=function(c){if(this.localStorageEnabled){var d=b.METRICS_STORAGE_KEY,e=a.LocalStorageHelper.getItem(d),f=e?JSON.parse(e):[];f.push(c),a.LocalStorageHelper.setItem(d,JSON.stringify(f),36e5)}},b}();b.METRICS_STORAGE_KEY="criteo_pt_cdb_metrics",a.DirectBiddingMetricsManager=b}(b=a.DirectBidding||(a.DirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(c){function d(a,e,f,g,h,i,j,k,l){var m=c.call(this,d.NAME)||this;return m._profileId=a,m._urlBuilder=e,m._slots=f,m._metricsManager=new b.DirectBiddingMetricsManager,m._bidManager=new b.DirectBiddingBidManager,m._callbackSuccess=g,m._callbackError=h,m._callbackTimeout=i,m._timeout=j,m._networkId=k,m._integrationMode=l,m}return __extends(d,c),d.buildAuctionRequest=function(a,b,c,d){for(var e=[],f=0,g=a;f<g.length;f++){var h=g[f],i={impid:h.impId};if(void 0!==h.zoneId&&(i.zoneid=h.zoneId),void 0!==h.nativeCallback&&(i.native=!0),void 0!==h.transactionId&&(i.transactionid=h.transactionId),void 0!==h.sizes){for(var j=[],k=0,l=h.sizes;k<l.length;k++){var m=l[k];j.push(m.width+"x"+m.height)}i.sizes=j}e.push(i)}var n={publisher:{url:c.highestAccessibleUrl},slots:e};return void 0!==d&&(n.publisher.networkid=d),b.length&&(n.previousBidFeedback=b),n},d.prototype.getMostPreciseTime=function(a,b){if(!window.performance||!window.performance.getEntries)return b;for(var c=window.performance.getEntries(),d=c.length-1;d>=0;--d){var e=c[d];if(e.name===a&&e.duration)return Math.round(e.duration)}return b},d.prototype.eval=function(c){if(!this.isValidRequest())return void this._callbackError();var e=this._metricsManager.getMetrics(!0),f=JSON.stringify(d.buildAuctionRequest(this._slots,e,c.context,this._networkId)),g=this._urlBuilder.buildUrl(this._profileId,c.context,this._integrationMode),h=new a.PubTag.AsyncRequest(g,f,"application/x-www-form-urlencoded"),i=a.TimeMeasurer.CreateRunning(),j=new b.BidStorageKey(this._slots,this._networkId),k=this._bidManager.getBid(j),l=this;h.send(function(a){for(var c=l.getMostPreciseTime(g,i.elapsed()),d=JSON.parse(a),e=l.extractExtraData(d),f=0,h=e.genimpids;f<h.length;f++){var m=h[f];l._metricsManager.storeMetric(new b.DirectBiddingMetric(m,c,!1))}e.bidCacheDurationSeconds>0&&(l._bidManager.storeBid(j,d,e.bidCacheDurationSeconds),d={}),void 0!==l._callbackSuccess&&void 0===k&&l._callbackSuccess(JSON.stringify(d))},function(a,c){var d=l.getMostPreciseTime(g,i.elapsed());l._metricsManager.storeMetric(new b.DirectBiddingMetric("",d,!1)),void 0!==l._callbackError&&l._callbackError(a,c)},function(){var a=l.getMostPreciseTime(g,i.elapsed());l._metricsManager.storeMetric(new b.DirectBiddingMetric("",a,!0)),void 0!==l._callbackTimeout&&l._callbackTimeout()},this._timeout),void 0!==this._callbackSuccess&&void 0!==k&&this._callbackSuccess(JSON.stringify(k))},d.prototype.extractExtraData=function(a){var b=[""],c=0;return void 0!==a.exd&&(void 0!==a.exd.genimpids&&a.exd.genimpids.length>0&&(b=a.exd.genimpids),void 0!==a.exd.bidCacheDurationSeconds&&(c=a.exd.bidCacheDurationSeconds),delete a.exd),{genimpids:b,bidCacheDurationSeconds:c}},d.prototype.isValidRequest=function(){return this._slots.length>0},d}(a.PubTag.Event.AbstractEvent);c.NAME="directbidding",b.DirectBiddingEvent=c}(c=b.DirectBidding||(b.DirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function b(){void 0===window.googletag&&(window.googletag={}),this.googletag=window.googletag,this.googletag.cmd=this.googletag.cmd||[]}return b.prototype.setKeyValuesForAllSlots=function(a){var b=this;this.googletag.cmd.push(function(){for(var c in a)b.googletag.pubads().clearTargeting(c),b.googletag.pubads().setTargeting(c,a[c]+"")})},b.prototype.setKeyValuePerSlot=function(b,c){var d=this.googletag.pubads().getSlots().filter(function(a){return a.getSlotElementId()===b});0===d.length?a.Log.Warning("No googletag slot found for slotId: "+b):d.length>1?a.Log.Warning("More than one googletag slot found for slotId: "+b):this.googletag.cmd.push(function(){for(var a in c)d[0].clearTargeting(a),d[0].setTargeting(a,c[a]+"")})},b}();b.DFPKeyValueTargeter=c}(c=b.KeyValueTargeter||(b.KeyValueTargeter={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Polyfills=function(){function a(){}return a.LoadPolyfills=function(){a.DefineIndexOf(),a.DefineFilter()},a.DefineIndexOf=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===b&&(b=0),void 0===this)throw new TypeError("'this' is null or not defined");var c=this.length;if(0===c)return-1;if(b>=c)return-1;for(var d=Math.max(b>=0?b:c-Math.abs(b),0);d<c;){if(d in this&&this[d]===a)return d;d++}return-1})},a.DefineFilter=function(){Array.prototype.filter||(Array.prototype.filter=function(a){if(void 0===this||void 0===this)throw new TypeError;var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=[],d=arguments.length>=2?arguments[1]:void 0,e=0;e<b;e++)if(e in this){var f=this[e];a.call(d,f,e,this)&&c.push(f)}return c})},a}();window.criteo_pubtag||(Polyfills.LoadPolyfills(),window.criteo_pubtag=new Criteo.PublisherTag);var Criteo;!function(a){"use strict";function b(b,c,d){var e=184,f=!1,g=new a.PubTag.StandaloneDirectBidding.StandaloneInputParameters(b);if(k(g)){var i=function(a){var b=j(a);if(void 0!==b)for(var d=0,e=b;d<e.length;d++){for(var f=e[d],i=void 0,k=0,l=g.placements;k<l.length;k++){var n=l[k];if(n.nativeCallback&&n.impId===f.impid){i=n.nativeCallback;break}}var o=m(f.impid,f.cpm,f.width,f.height,f.zoneid,i,f.native,f.displayurl,f.creative);void 0!==o&&(window.criteo_pubtag.standaloneBidder.bids[o.id]=o)}void 0!==c&&c(h())},l=new a.PubTag.DirectBidding.DirectBiddingEvent(e,new a.PubTag.DirectBidding.DirectBiddingUrlBuilder(f),g.placements,i,c,c,d,g.networkId,g.integrationMode);window.criteo_pubtag.push(l)}}function c(b){var c=a.PubTag.StandaloneDirectBidding.LineItemRange.createLineItemRangesFromString(b);window.criteo_pubtag.standaloneBidder.lineItemRanges=c}function d(){
var b=new a.PubTag.KeyValueTargeter.DFPKeyValueTargeter,c=window.criteo_pubtag.standaloneBidder.lineItemRanges,d=l();for(var e in d){var g=d[e];b.setKeyValuePerSlot(e,f(g,c))}}function e(b,c){var d=a.PubTag.StandaloneDirectBidding.LineItemRange.createLineItemRangesFromString(c);return f(b,d)}function f(b,c){var d=a.PubTag.StandaloneDirectBidding.LineItemRange.computeLineItemPricebandValue(b.cpm,c);return{crt_pb:[d],crt_bidid:[b.id]}}function g(b,c){var d=window.criteo_pubtag.standaloneBidder.bids;if(d.hasOwnProperty(b)){var e=d[b],f=e.GenerateEvent(c);window.criteo_pubtag.push(f),delete d[b]}else a.Log.Error("Could not render bid with id: "+b)}function h(){var b=window.criteo_pubtag.standaloneBidder.bids;if(null===b)return[];var c=window.criteo_pubtag.standaloneBidder.lineItemRanges,d=[];for(var e in b){var f=b[e];if(c.length>0){var g=a.PubTag.StandaloneDirectBidding.LineItemRange.computeLineItemPricebandValue(f.cpm,c);f.cpm_bucket=g}d.push(f)}return d}function i(a,b){void 0===b&&(b=1);var c=h(),d=[];for(var e in c){var f=c[e];f.impressionId===a&&d.push(f)}return d.sort(function(a,b){return b.cpm-a.cpm}).slice(0,Math.min(Math.max(b,0),d.length))}function j(a){try{var b=JSON.parse(a);if(void 0!==b)return b.slots;return}catch(a){return}}function k(b){if(void 0===b.placements)return a.Log.Error("Missing 'placements' parameter"),!1;if(0===b.placements.length)return a.Log.Error("'placements' parameter is empty"),!1;for(var c=0,d=b.placements;c<d.length;c++){var e=d[c];if(n(e.impId))return a.Log.Error("Missing 'slotId' parameter in placements object"),!1;if(n(e.zoneId)&&(n(e.sizes)||n(b.networkId)))return a.Log.Error("Missing zone information: specify either a zoneId or a networkId and a zone size"),!1;if(void 0!==e.nativeCallback&&"function"!=typeof e.nativeCallback)return a.Log.Error("'nativeCallback' parameter is not a function in placements object"),!1}return!0}function l(){var a={},b=window.criteo_pubtag.standaloneBidder.bids;for(var c in b){var d=b[c];if(a.hasOwnProperty(d.impressionId)){var e=a[d.impressionId];e.cpm<d.cpm&&(a[d.impressionId]=d)}else a[d.impressionId]=d}return a}function m(b,c,d,e,f,g,h,i,j){return void 0!==g&&void 0!==h?new a.PubTag.StandaloneDirectBidding.NativeBidResponseSlot(b,c,d,e,f,g,h):void 0!==i?new a.PubTag.StandaloneDirectBidding.DisplayUrlBidResponseSlot(b,c,d,e,f,i):void 0!==j?new a.PubTag.StandaloneDirectBidding.HtmlCreativeBidResponseSlot(b,c,d,e,f,j):void 0}function n(a){return void 0===a||a+""==""}a.RequestBids=b,a.SetLineItemRanges=c,a.SetDFPKeyValueTargeting=d,a.ComputeStandaloneDFPTargeting=e,a.RenderAd=g,a.GetBids=h,a.GetBidsForAdUnit=i}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";function c(a){try{return JSON.parse(a)}catch(a){return}}var d=function(){function b(){}return b.Standalone=function(c,d,e){var f={integrationmode:"amp",placements:[{slotid:c.slot,zoneid:c.zone}]};a.RequestBids(f,function(f){if("DFP"===c.adserver){b.listenForCreativeRequests(f);for(var g=0,h=f;g<h.length;g++){var i=h[g],j=a.ComputeStandaloneDFPTargeting(i,c.lineItemRanges);e(j)}}d(null)},c.timeout)},b.listenForCreativeRequests=function(a){window.addEventListener("message",function(b){var d=b.data instanceof Object?b.data:c(b.data);if(d&&d.bidId)for(var e=0,f=a;e<f.length;e++){var g=f[e];if(g.id===d.bidId){var h=g.GenerateMessage();h.message="Criteo creative",b.source.postMessage(JSON.stringify(h),"*")}}},!1)},b}();b.AMP=d}(c=b.Adapters||(b.Adapters={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(a,b){this._networkId=b,this._slots=a}return a.prototype.toString=function(){var b=a.BID_STORAGE_KEY_PREFIX;void 0!==this._networkId&&(b+="_NetworkId"+this._networkId);for(var c=0,d=this._slots;c<d.length;c++){var e=d[c];if(void 0!==e.zoneId&&(b+="_ZoneId"+e.zoneId),void 0!==e.sizes){b+="_Sizes";for(var f in e.sizes)b+=e.sizes[f].toString()+";"}}return b},a}();b.BID_STORAGE_KEY_PREFIX="criteo_pt_cdb_bidcache",a.BidStorageKey=b;var c=function(){function b(){this.localStorageEnabled=a.LocalStorageHelper.checkLocalStorage()}return b.prototype.getBid=function(b){if(this.localStorageEnabled){var c=a.LocalStorageHelper.getItem(b.toString());return a.LocalStorageHelper.removeItem(b.toString()),c?JSON.parse(c):void 0}},b.prototype.storeBid=function(b,c,d){this.localStorageEnabled&&a.LocalStorageHelper.setItem(b.toString(),JSON.stringify(c),1e3*d)},b}();a.DirectBiddingBidManager=c}(b=a.DirectBidding||(a.DirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function c(a,b){this.adFormat=a,this.containerId=b}return c.prototype.CreateAdvancedAdFormatContainer=function(){return this.adFormat===b.AdFormatType.StickyFooter?this.CreateStickyFooterContainer(this.containerId):this.adFormat===b.AdFormatType.ScrollingBanner?this.CreateScrollingBannerContainer(this.containerId):void 0},c.prototype.IsUserOptout=function(){return this.adFormat===b.AdFormatType.StickyFooter&&"true"===a.PubTag.CookieHelper.GetCookie("cto_sticky_closed")},c.prototype.CreateStickyFooterContainer=function(b){var c=document.createElement("div");c.style.position="fixed",c.style.zIndex="2147483646",c.style.bottom="0",c.style.left="0",c.style.padding="0",c.style.borderColor="rgb(196, 196, 196)",c.style.width="100%",c.style.backgroundColor="rgba(245, 245, 245, 0.54902)",c.style.borderStyle="solid",c.style.borderWidth="1px";var d=document.createElement("a");c.appendChild(d),d.style.backgroundColor="rgb(221, 221, 221)",d.style.backgroundImage="url('//static.criteo.net/images/criteo/publishertag/close.png')",d.style.backgroundRepeat="no-repeat",d.style.backgroundPosition="center",d.style.display="block",d.style.position="absolute",d.style.left="0",d.style.top="-24px",d.style.width="23px",d.style.height="24px",d.style.borderBottomColor="#6d6c71",d.style.cursor="pointer",d.onclick=function(){c.style.display="none",a.PubTag.CookieHelper.SetCookie("cto_sticky_closed","true",24)};var e=document.createElement("div");if(c.appendChild(e),e.id="cto_sticky",e.style.margin="0 auto",e.style.display="table",void 0===b||""===b)document.body.appendChild(c);else{var f=document.getElementById(b);f.appendChild(c)}return e.id},c.prototype.CreateScrollingBannerContainer=function(a){void 0===a||""===a?(this.scrollingDiv=document.createElement("div"),this.scrollingDiv.id="cto_scrolling",document.body.appendChild(this.scrollingDiv)):this.scrollingDiv=document.getElementById(a),this.scrollingContainerOffsetTop=this.scrollingDiv.offsetTop;var b=this;return window.addEventListener?window.addEventListener("scroll",function(){b.SetScrollingContainerPosition()},!1):window.attachEvent("onscroll",function(){b.SetScrollingContainerPosition()}),this.SetScrollingContainerPosition(),this.scrollingDiv.id},c.prototype.SetScrollingContainerPosition=function(){var a=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;a>=this.scrollingContainerOffsetTop-10?(this.scrollingDiv.style.position="fixed",this.scrollingDiv.style.top="10px"):(this.scrollingDiv.style.position="static",this.scrollingDiv.style.top="auto")},c}();b.AdvancedAdFormats=c}(c=b.Display||(b.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(){function a(){}return a.generateCacheBuster=function(){return Math.floor(99999999999*Math.random())},a}();a.CacheBusterGenerator=b}(b=a.Display||(a.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(b){function c(a,d,e){var f=b.call(this,c.NAME,a,d)||this;return f._respectsEyeoDeal=e,f}return __extends(c,b),c.prototype.eval=function(c){b.prototype.eval.call(this,c);var d=this._displayParameters.containerid,e=this._displayParameters.callbackSuccess,f=this._displayParameters.callbackError,g=this.buildCasUrl(c.context,a.HandlerType.AFR);if(c.context.isAdBlocked){if(!this._respectsEyeoDeal)return;this.loadIframe(g,d,e,f)}else this.loadIframe(g,d,e,f)},c.prototype.loadIframe=function(a,b,c,d){var e=document.createElement("iframe");e.src=a,e.id=b+"_cto_iframe",e.frameBorder="0",e.hspace=0,e.vspace=0,e.marginWidth="0px",e.marginHeight="0px",e.width="100%",e.height="100%",e.scrolling="no",e.onload=c,e.onerror=d;var f=document.getElementById(b);f.appendChild(e)},c}(a.DisplayEvent);b.NAME="displayAfr",a.DisplayEventAFR=b}(b=a.Display||(a.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(Criteo){var PubTag;!function(PubTag){var Display;!function(Display){"use strict";var DisplayEventAsync=function(_super){function DisplayEventAsync(a,b){return _super.call(this,DisplayEventAsync.NAME,a,b)||this}return __extends(DisplayEventAsync,_super),DisplayEventAsync.prototype.eval=function(a){var b=this;_super.prototype.eval.call(this,a);var c=this._displayParameters.containerid,d=this._displayParameters.width,e=this._displayParameters.height,f=this._displayParameters.layout,g=this._displayParameters.callbackSuccess,h=this._displayParameters.callbackError,i=this._displayParameters.passbackCode;if(""===c||void 0===c)Criteo.Log.Error("No containerid provided");else if(void 0!==f){var j=DisplayEventAsync.CHAPI_NAME+"="+encodeURIComponent(JSON.stringify(f)),k=function(){var f=b.getContainerSize(c,d,e),k=b.buildCasUrl(a.context,void 0,f.width,f.height);b.loadScriptAsync(k,j,g,h,i)};void 0!==d&&void 0!==e?k():window.addEventListener?window.addEventListener("load",k,!1):window.attachEvent("onload",k)}else{var l=this.buildCasUrl(a.context);this.loadScriptAsync(l,void 0,g,h,i)}},DisplayEventAsync.prototype.loadScriptAsync=function(url,data,callBackSuccess,callbackFail,passbackCode){var request=new Criteo.PubTag.AsyncRequest(url,data);request.send(function(responseText){var pb=passbackCode?passbackCode:function(){};eval(responseText),void 0!==callBackSuccess&&callBackSuccess(responseText)},function(a,b){void 0!==passbackCode&&passbackCode(),void 0!==callbackFail&&callbackFail(a,b)},passbackCode)},DisplayEventAsync.prototype.getContainerSize=function(a,b,c){var d=document.getElementById(a),e=Display.DomManipulationTools.inIframe(),f=b?b:e?document.body.offsetWidth:d.offsetWidth,g=c?c:e?document.body.offsetHeight:d.offsetHeight;return 0!==g&&0!==f||(g=void 0,f=void 0),{width:f,height:g}},DisplayEventAsync}(Display.DisplayEvent);DisplayEventAsync.NAME="displayEventAsync",DisplayEventAsync.CHAPI_NAME="publisherCreativeConfiguration",Display.DisplayEventAsync=DisplayEventAsync}(Display=PubTag.Display||(PubTag.Display={}))}(PubTag=Criteo.PubTag||(Criteo.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(a){var b;!function(a){"use strict";var b=function(a){function b(c,d){return a.call(this,b.NAME,c,d)||this}return __extends(b,a),b.prototype.eval=function(b){a.prototype.eval.call(this,b);var c=this.buildCasUrl(b.context);this.loadScriptSync(c)},b.prototype.loadScriptSync=function(a){document.write("<script type='text/javascript' src='"+a+"'></script>")},b}(a.DisplayEvent);b.NAME="displaySync",a.DisplayEventSync=b}(b=a.Display||(a.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";var c=function(){function c(){}return c.prototype.respectsEyeoDeal=function(b){var d=document.getElementById(b),e=this.respectsSizeConstraints(d);if(!e)return a.Log.Debug("The element "+b+"does not respect Eyeo acceptable ads size constraints"),!1;var f=this.getNewRatiosFeatures(d),g=f.respectsAdRatioConstraint;return g?(c.atfRatio=f.newAtfRatio,c.btfRatio=f.newBtfRatio):a.Log.Debug("The element "+b+"does not respect Eyeo acceptable ads ratio constraints"),g},c.prototype.respectsSizeConstraints=function(b){var c=this.getAdLocationAttribute(b);switch(c){case"above-content":return b.offsetHeight<=200;case"in-content":return!1;case"below-content":return b.offsetHeight<=400;case"side-content":return b.offsetWidth<=350;default:return void 0!==c&&a.Log.Error("Unknown data-ad-loc attribute : "+c),!0}},c.prototype.getAdLocationAttribute=function(a){return a.getAttribute("data-ad-loc")?a.getAttribute("data-ad-loc"):void 0},c.prototype.getNewRatiosFeatures=function(a){var d=!1,e=b.ViewabilityComputer.getRatioAboveFold(a),f=a.offsetHeight*a.offsetWidth,g=screen.width*screen.height,h=c.atfRatio+e*f/g,i=c.btfRatio+(1-e)*f/g;return d=h<=.15&&i<=.25,{respectsAdRatioConstraint:d,newAtfRatio:h,newBtfRatio:i}},c}();c.atfRatio=0,c.btfRatio=0,b.EyeoDealValidator=c}(c=b.Display||(b.Display={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){"use strict";function b(b){var c=new a.PubTag.Display.DisplayInputParameters(b);if(c.async=c.async!==!1,void 0===c.zoneid)return void a.Log.Error("missing parameter 'zoneid'");if(void 0!==c.layout&&c.async===!1)return void a.Log.Error("Criteo hosted ads only work in async mode");if(c.async===!0&&(void 0===c.containerid||""===c.containerid))return void a.Log.Error("Missing parameter 'containerid' for an async display");if(c.async===!1&&void 0!==c.passbackCode&&(a.Log.Error("Criteo.DisplayAd does not support synchronous local passback"),c.passbackCode=void 0),c.adFormat!==a.PubTag.Display.AdFormatType.Classic){var d=new a.PubTag.Display.AdvancedAdFormats(c.adFormat,c.containerid);if(d.IsUserOptout())return void a.Log.Debug("The user has opted-out for 1 day when closing the sticky footer.");c.containerid=d.CreateAdvancedAdFormatContainer()}var e;e=c.async?new a.PubTag.Display.DisplayEventAsync(new a.PubTag.Display.DisplayUrlBuilder,c):new a.PubTag.Display.DisplayEventSync(new a.PubTag.Display.DisplayUrlBuilder,c),window.criteo_pubtag.push(e)}function c(b){var c=new a.PubTag.Display.DisplayInputParameters(b);if(void 0===c.zoneid)return void a.Log.Error("missing parameter 'zoneid'");if(void 0===c.containerid||""===c.containerid)return void a.Log.Error("missing parameter 'containerid' to display acceptable ads");if(!d(document.getElementById(c.containerid)))return void a.Log.Error("can't display acceptable ad : the container \""+c.containerid+'" is not visible');window.criteo_pubtag.checkAdblocker();var e,f=new a.PubTag.Display.EyeoDealValidator;e=new a.PubTag.Display.DisplayEventAFR(new a.PubTag.Display.DisplayUrlBuilder,c,f.respectsEyeoDeal(c.containerid));var g;g=new a.PubTag.Event.Custom(function(){if(c.collapseContainerIfNotAdblocked){var a=document.getElementById(c.containerid);a.style.display="none"}void 0!==c.callIfNotAdblocked&&c.callIfNotAdblocked()});var h,i=function(){return window.criteo_pubtag.context.isAdBlocked===!0};h=new a.PubTag.Event.ConditionalEvent(i,e,g),window.criteo_pubtag.push(h)}function d(a){if(a===document)return!0;if(!a)return!1;if(!a.parentNode)return!1;if(a.style){if("none"===a.style.display)return!1;if("hidden"===a.style.visibility)return!1}if(window.getComputedStyle){var b=window.getComputedStyle(a,"");if("none"===b.display)return!1;if("hidden"===b.visibility)return!1}var c=a.currentStyle;if(c){if("none"===c.display)return!1;if("hidden"===c.visibility)return!1}return d(a.parentNode)}a.DisplayAd=b,a.DisplayAcceptableAdIfAdblocked=c}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(b){"use strict";b.DefaultCrtgContentName="crtg_content",b.DefaultCrtgRtaCookieName="crtg_rta";var c=function(a){function b(b){var c=a.call(this)||this;return c.networkId=void 0,c.crtgContentName=void 0,c.crtgRtaCookieName=void 0,c.adserver=void 0,c.paramParser.networkid=function(a){c.networkId=a},c.paramParser.varname=function(a){c.crtgContentName=a},c.paramParser.cookiename=function(a){c.crtgRtaCookieName=a},c.paramParser.adserver=function(a){c.adserver=a},a.prototype.tryFillParameters.call(c,b),c}return __extends(b,a),b}(a.PubTag.InputParameters);b.RtaInputParameters=c}(c=b.RTA||(b.RTA={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(c){"use strict";var d=function(){function c(){}return c.prototype.buildUrl=function(d,e){var f="https:"===e.protocol?"https:":"http:",g=f+c.RTA_URL+"?ptv="+a.PublisherTag.VERSION;return e.isAdBlocked===!0&&(g+="&abp=1"),g+="&netid="+String(d.networkId),g+=e.ctoIdOnPublisherDomain?"&idcpy="+e.ctoIdOnPublisherDomain:"",g+=d.crtgRtaCookieName?"&cookieName="+encodeURIComponent(d.crtgRtaCookieName):"",g+=d.crtgContentName?"&varName="+encodeURIComponent(d.crtgContentName):"",g+="&rnd="+String(a.PubTag.Display.CacheBusterGenerator.generateCacheBuster()),g+=e.getContextFlags(),d.integrationMode!==b.IntegrationMode.Unspecified&&(g+="&im="+d.integrationMode),g},c}();d.RTA_URL="//rtax.criteo.com/delivery/rta/rta.js",c.RtaUrlBuilder=d}(c=b.RTA||(b.RTA={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(Criteo){var PubTag;!function(PubTag){var RTA;!function(RTA){"use strict";var RtaEvent=function(_super){function RtaEvent(a,b){var c=_super.call(this,RtaEvent.NAME)||this;return c.urlBuilder=a,c.parameters=b,c}return __extends(RtaEvent,_super),RtaEvent.prototype.eval=function(a){_super.prototype.eval.call(this,a);var b=this.urlBuilder.buildUrl(this.parameters,a.context),c=new Criteo.PubTag.AsyncRequest(b),d=function(a,c){return Criteo.Log.Error("An error occured while calling "+b)},e=this.parameters.crtgContentName?this.parameters.crtgContentName:Criteo.PubTag.RTA.DefaultCrtgContentName,f=a.context.rtaVarNames.indexOf(e,0);f===-1&&a.context.rtaVarNames.push(e),c.send(this.executeScript,d)},RtaEvent.prototype.executeScript=function(responseText){eval(responseText)},RtaEvent}(Criteo.PubTag.Event.AbstractEvent);RtaEvent.NAME="rtaEvent",RTA.RtaEvent=RtaEvent}(RTA=PubTag.RTA||(PubTag.RTA={}))}(PubTag=Criteo.PubTag||(Criteo.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){var b;!function(b){var c;!function(c){"use strict";var d=function(c){function d(a,b){var e=c.call(this,d.NAME)||this;return e.adserver=a,e.targetingValues=b,e}return __extends(d,c),d.prototype.eval=function(b){if(void 0===this.adserver)return void a.Log.Error("undefined adserver");switch(this.adserver.toLowerCase()){case"dfp":this.setTargetingDFP(this.targetingValues);break;default:a.Log.Error("unknown adserver '"+this.adserver+"'")}},d.prototype.setTargetingDFP=function(a){var c=new b.KeyValueTargeter.DFPKeyValueTargeter;c.setKeyValuesForAllSlots(a)},d}(a.PubTag.Event.AbstractEvent);d.NAME="rtaTargetingEvent",c.RtaTargetingEvent=d}(c=b.RTA||(b.RTA={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));var Criteo;!function(a){"use strict";function b(a){if(void 0===a||""===a)return{};for(var b=a.split(";"),c={},d=0,e=b;d<e.length;d++){var f=e[d];if(""!==f){var g=f.split("=");if(2===g.length){var h=g[0],i=g[1];c[h]=c[h]||[],c[h].push(""+i)}}}return c}a.ExtractKeyValuesFromRtaResponse=b}(Criteo||(Criteo={}));var Criteo;!function(a){"use strict";function b(b){var c=new a.PubTag.RTA.RtaInputParameters(b);if(void 0===c.networkId)return void a.Log.Error("missing parameter 'networkid'");var d=c.crtgContentName?c.crtgContentName:a.PubTag.RTA.DefaultCrtgContentName,e=c.crtgRtaCookieName?c.crtgRtaCookieName:a.PubTag.RTA.DefaultCrtgRtaCookieName;window[d]=a.PubTag.CookieHelper.GetCookie(e)||"";var f=new a.PubTag.RTA.RtaEvent(new a.PubTag.RTA.RtaUrlBuilder,c);window.criteo_pubtag.push(f)}function c(b){var c=new a.PubTag.RTA.RtaInputParameters(b);if(void 0===c.adserver)return void a.Log.Error("missing parameter 'adserver'");var d=[];if(void 0!==c.crtgContentName)d.push(c.crtgContentName);else if(window.criteo_pubtag.context.rtaVarNames.length>0)for(var f=0,g=window.criteo_pubtag.context.rtaVarNames;f<g.length;f++){var h=g[f];d.push(h)}else d.push(a.PubTag.RTA.DefaultCrtgContentName);for(var i=0,j=d;i<j.length;i++){var k=j[i],l=window[k],m=a.ExtractKeyValuesFromRtaResponse(l),n=new a.PubTag.RTA.RtaTargetingEvent(c.adserver,m);window.criteo_pubtag.push(n),e(k)}}function d(b,c){var d=a.PubTag.CookieHelper.GetCookie(b),f=a.ExtractKeyValuesFromRtaResponse(d);return e(c),f}function e(a){var b=window.criteo_pubtag.context.rtaVarNames.indexOf(a,0);b>-1&&window.criteo_pubtag.context.rtaVarNames.splice(b,1)}a.CallRTA=b,a.SetTargeting=c,a.ComputeDFPTargetingForAMP=d}(Criteo||(Criteo={})),window.Criteo=window.Criteo||{};var criteoQueuedEvents=[];window.Criteo.events&&Array.isArray(window.Criteo.events)&&(criteoQueuedEvents=window.Criteo.events),window.Criteo.events={push:function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if("undefined"!=typeof a)for(var c=0;c<a.length;c++){var d=a[c];"function"==typeof d&&d()}}},window.Criteo.events.push.apply(window.Criteo.events,criteoQueuedEvents);var Criteo;!function(a){var b;!function(a){var b;!function(b){"use strict";var c=function(b){function c(a,c,d,e,f,g){var h=b.call(this,a,c,d,e,f)||this;return h.creative=g,h}return __extends(c,b),c.prototype.GenerateEvent=function(b){var c=this;if(b.defaultView&&b.defaultView.frameElement){var d=b.defaultView.frameElement;d.width=this.width,d.height=this.height}return new a.Event.Custom(function(){return b.write(c.creative)})},c.prototype.GenerateMessage=function(){return{creative:this.creative}},c}(b.BidResponseSlot);b.HtmlCreativeBidResponseSlot=c}(b=a.StandaloneDirectBidding||(a.StandaloneDirectBidding={}))}(b=a.PubTag||(a.PubTag={}))}(Criteo||(Criteo={}));